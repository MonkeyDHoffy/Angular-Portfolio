<div
    class="project-slide relative w-full max-w-[min(92vw,1100px)] rounded-[30px] bg-background-greencontainer border border-secondary shadow-2xl my-8 font-karla green-card-gradient overflow-x-hidden">
    <button type="button" aria-label="Close" (click)="close.emit()" (mouseenter)="isCloseHover = true"
        (mouseleave)="isCloseHover = false"
        class="absolute right-4 top-4 z-50 flex h-9 w-9 items-center justify-center hover:scale-110 transition">
        <img [src]="isCloseHover ? closeHover : closeSmall" alt="Close" class="w-5 h-5 object-contain" />
    </button>

    <div
        class="project-slide-content flex flex-col md:flex-row gap-6 md:gap-10 px-2 sm:px-4 md:px-8 lg:px-10 py-6 md:py-10 w-full box-border overflow-x-hidden scale-[.98] sm:scale-100 transition-transform duration-300">
        <div class="order-first md:order-last md:w-1/2 md:flex md:flex-col md:justify-start">
            <div class="h-8 md:h-10" aria-hidden="true"></div>
            <div class="project-slide-image rounded-2xl overflow-hidden">
                <img [src]="imageSrc" [alt]="imageAlt" class="w-full h-full object-cover" />
            </div>
        </div>

        <div class="project-slide-details md:w-1/2 flex flex-col justify-between gap-8 text-white">
            <div>
                <p class="text-5xl md:text-6xl font-karla font-bold tracking-tight text-secondary">{{ index }}</p>
                <h1 class="mt-2 text-3xl md:text-4xl font-extrabold tracking-tight text-text-primary font-karla">{{
                    localized(titleKey) }}</h1>
            </div>

            <div class="space-y-4">
                <p class="font-firacode text-secondary text-base md:text-lg">{{ localized(questionKey) }}</p>
                <p class="font-karla text-primary leading-relaxed">{{ localized(descriptionKey) }}</p>
            </div>

            <div class="project-slide-tech flex flex-wrap items-center gap-3"
                [class.project-slide-tech--five]="techStack.length === 5">
                <app-tech-badge *ngFor="let tech of techStack" [label]="tech"
                    [iconSrc]="iconFor(tech)"></app-tech-badge>
            </div>
        </div>
    </div>

    <div class="project-slide-actions px-6 md:px-10 lg:px-12 pb-8">
        <div class="flex flex-col md:flex-row items-start md:items-center gap-4 md:gap-6 w-full md:justify-between">
            <div *ngIf="primaryActions.length" class="flex flex-wrap gap-4 flex-1 w-full">
                <ng-container *ngFor="let action of primaryActions">
                    <a *ngIf="action.href; else buttonAction"
                        class="inline-flex items-center justify-center rounded-full px-6 py-2.5 text-sm font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-secondary font-karla border border-white/30 bg-transparent hover:text-secondary hover:border-secondary transition-colors duration-1000 text-white gap-2"
                        [href]="action.href" target="_blank" rel="noreferrer">
                        <span>{{ localized(action.label) }}</span>
                        <img [src]="arrowOutward" alt="Open" class="w-4 h-4" />
                    </a>
                    <ng-template #buttonAction>
                        <button type="button"
                            class="inline-flex items-center justify-center rounded-full px-6 py-2.5 text-sm font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-secondary font-karla border border-white/30 bg-transparent hover:text-secondary hover:border-secondary transition-colors duration-1000 text-white gap-2">
                            <span>{{ localized(action.label) }}</span>
                            <img [src]="arrowOutward" alt="Open" class="w-4 h-4" />
                        </button>
                    </ng-template>
                </ng-container>
            </div>

            <button type="button" (click)="next.emit()"
                class="inline-flex items-center gap-2 text-sm font-medium text-secondary hover:text-white transition font-firacode self-end md:self-auto md:ml-auto">
                <span>{{ nextLabel }}</span>
                <img [src]="arrowForward" alt="Next" class="w-4 h-4" />
            </button>
        </div>
    </div>
</div>